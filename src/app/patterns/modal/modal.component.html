<div class="pattern-layout">
  <div class="pattern-header">
    <h1 class="pattern-title">
      <span class="pattern-icon">ü™ü</span>
      Modal Pattern
    </h1>
    <p class="pattern-description">
      Display content in overlay dialogs with backdrop, animations, and proper focus management.
    </p>
  </div>

  <div class="pattern-grid">
    <!-- Interactive Example -->
    <div class="pattern-example">
      <div class="example-container">
        <h2 class="example-title">
          üéØ Interactive Example
        </h2>
        <p class="example-description">
          Click buttons to open modals. Click outside the modal or press Escape to close.
        </p>
        
        <!-- Trigger Buttons -->
        <div class="modal-triggers">
          <button class="btn btn-primary" (click)="openModal()">
            <svg class="btn-icon" fill="currentColor" viewBox="0 0 20 20">
              <path d="M10 12a2 2 0 100-4 2 2 0 000 4z"/>
              <path fill-rule="evenodd" d="M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z" clip-rule="evenodd"/>
            </svg>
            Basic Modal
          </button>
          
          <button class="btn btn-success" (click)="openFormModal()">
            <svg class="btn-icon" fill="currentColor" viewBox="0 0 20 20">
              <path d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"/>
            </svg>
            Form Modal
          </button>
        </div>
      </div>
    </div>

    <!-- Code Example -->
    <div class="pattern-code">
      <app-code-tabs 
        [htmlCode]="htmlCode" 
        [scssCode]="scssCode" 
        [typescriptCode]="typescriptCode"
        title="Code Example">
      </app-code-tabs>
    </div>
  </div>

  <!-- Key Features -->
  <div class="features-section">
    <h3 class="features-title">
      ‚ú® Key Features
    </h3>
    <div class="features-grid">
      <div class="feature-item">
        <span class="feature-icon">‚úì</span>
        <div class="feature-content">
          <h4 class="feature-title">Backdrop Click</h4>
          <p class="feature-description">Close modal by clicking outside</p>
        </div>
      </div>
      <div class="feature-item">
        <span class="feature-icon">‚úì</span>
        <div class="feature-content">
          <h4 class="feature-title">Keyboard Support</h4>
          <p class="feature-description">ESC key closes modal</p>
        </div>
      </div>
      <div class="feature-item">
        <span class="feature-icon">‚úì</span>
        <div class="feature-content">
          <h4 class="feature-title">Body Scroll Lock</h4>
          <p class="feature-description">Prevents background scrolling</p>
        </div>
      </div>
      <div class="feature-item">
        <span class="feature-icon">‚úì</span>
        <div class="feature-content">
          <h4 class="feature-title">Smooth Animations</h4>
          <p class="feature-description">Fade and slide transitions</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Use Cases -->
  <div class="use-cases-section">
    <h3 class="use-cases-title">
      üéØ Common Use Cases
    </h3>
    <div class="use-cases-grid">
      <div class="use-case-item">
        <div class="use-case-icon">‚ö†Ô∏è</div>
        <h4 class="use-case-title">Confirmations</h4>
        <p class="use-case-description">Delete or action confirmations</p>
      </div>
      <div class="use-case-item">
        <div class="use-case-icon">üìù</div>
        <h4 class="use-case-title">Forms</h4>
        <p class="use-case-description">Quick data entry forms</p>
      </div>
      <div class="use-case-item">
        <div class="use-case-icon">‚ÑπÔ∏è</div>
        <h4 class="use-case-title">Information</h4>
        <p class="use-case-description">Display detailed information</p>
      </div>
    </div>
  </div>
</div>

<!-- Basic Modal -->
<div class="modal-overlay" *ngIf="isModalOpen" (click)="onModalBackdropClick($event)">
  <div class="modal-container">
    <!-- Modal Header -->
    <div class="modal-header">
      <h2 class="modal-title">{{ modalConfig.title }}</h2>
      <button class="modal-close" (click)="closeModal()" aria-label="Close modal">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/>
        </svg>
      </button>
    </div>

    <!-- Modal Body -->
    <div class="modal-body">
      <p>{{ modalConfig.content }}</p>
      <p>This modal demonstrates the basic modal pattern with a backdrop overlay, close button, and smooth animations.</p>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="closeModal()">
        Cancel
      </button>
      <button class="btn btn-primary" (click)="closeModal()">
        Confirm
      </button>
    </div>
  </div>
</div>

<!-- Form Modal -->
<div class="modal-overlay" *ngIf="isFormModalOpen" (click)="onFormModalBackdropClick($event)">
  <div class="modal-container">
    <!-- Modal Header -->
    <div class="modal-header">
      <h2 class="modal-title">Contact Form</h2>
      <button class="modal-close" (click)="closeFormModal()" aria-label="Close modal">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M19 6.41L17.59 5L12 10.59L6.41 5L5 6.41L10.59 12L5 17.59L6.41 19L12 13.41L17.59 19L19 17.59L13.41 12L19 6.41Z"/>
        </svg>
      </button>
    </div>

    <!-- Modal Body -->
    <div class="modal-body">
      <form>
        <div class="form-group">
          <label class="form-label" for="name">Name</label>
          <input 
            type="text" 
            id="name" 
            class="form-input" 
            [(ngModel)]="formData.name"
            placeholder="Enter your name">
        </div>
        
        <div class="form-group">
          <label class="form-label" for="email">Email</label>
          <input 
            type="email" 
            id="email" 
            class="form-input" 
            [(ngModel)]="formData.email"
            placeholder="Enter your email">
        </div>
        
        <div class="form-group">
          <label class="form-label" for="message">Message</label>
          <textarea 
            id="message" 
            class="form-textarea" 
            [(ngModel)]="formData.message"
            placeholder="Enter your message"></textarea>
        </div>
      </form>
    </div>

    <!-- Modal Footer -->
    <div class="modal-footer">
      <button class="btn btn-secondary" (click)="closeFormModal()">
        Cancel
      </button>
      <button class="btn btn-primary" (click)="submitForm()">
        Send Message
      </button>
    </div>
  </div>
</div>