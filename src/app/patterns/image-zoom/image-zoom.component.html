<app-pattern-header 
  title="Image Zoom" 
  description="Interactive image zoom with pan and zoom controls"
  icon="üîç">
</app-pattern-header>

<div class="image-zoom-demo">
  <!-- Gallery Grid -->
  <div class="gallery-grid">
    <div *ngFor="let image of images" 
         class="gallery-item"
         (click)="openZoom(image)">
      <img [src]="image.src" 
           [alt]="image.alt" 
           class="gallery-image"
           loading="lazy">
      <div class="image-overlay">
        <div class="zoom-icon">üîç</div>
        <div class="image-info">
          <h3>{{ image.alt }}</h3>
          <p>{{ image.description }}</p>
        </div>
      </div>
    </div>
  </div>

  <!-- Zoom Modal -->
  <div class="zoom-modal" 
       *ngIf="isZooming" 
       (click)="closeZoom()">
    
    <!-- Close Button -->
    <button class="close-btn" 
            (click)="closeZoom(); $event.stopPropagation()"
            aria-label="Close zoom">
      ‚úï
    </button>

    <!-- Zoom Container -->
    <div #zoomContainer 
         class="zoom-container"
         (wheel)="onWheel($event)"
         (mousedown)="onMouseDown($event)"
         (mousemove)="onMouseMove($event)"
         (mouseup)="onMouseUp()"
         (click)="$event.stopPropagation()">
      
      <img #zoomImage
           [src]="selectedImage?.src" 
           [alt]="selectedImage?.alt"
           class="zoom-image"
           [class.panning]="isPanning">
    </div>

    <!-- Zoom Controls -->
    <div class="zoom-controls" (click)="$event.stopPropagation()">
      <button class="control-btn zoom-in" 
              (click)="zoomIn()"
              [disabled]="zoomLevel >= 5"
              title="Zoom In">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M15.5 14h-.79l-.28-.27A6.5 6.5 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          <path d="M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"/>
        </svg>
      </button>
      
      <button class="control-btn zoom-out" 
              (click)="zoomOut()"
              [disabled]="zoomLevel <= 0.5"
              title="Zoom Out">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M15.5 14h-.79l-.28-.27A6.5 6.5 0 0 0 16 9.5 6.5 6.5 0 1 0 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"/>
          <path d="M7 9v1h5V9H7z"/>
        </svg>
      </button>
      
      <button class="control-btn reset" 
              (click)="resetZoom()"
              title="Reset Zoom">
        <svg viewBox="0 0 24 24" fill="currentColor">
          <path d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/>
        </svg>
      </button>
      
      <!-- Zoom Level Indicator -->
      <div class="zoom-level">{{ (zoomLevel * 100).toFixed(0) }}%</div>
    </div>

    <!-- Image Info -->
    <div class="image-info-panel" *ngIf="selectedImage">
      <h3>{{ selectedImage.alt }}</h3>
      <p>{{ selectedImage.description }}</p>
    </div>
  </div>
</div>

<app-code-tabs 
  [htmlCode]="htmlCode"
  [scssCode]="scssCode"
  [typescriptCode]="typescriptCode"
  [exampleCode]="exampleCode">
</app-code-tabs>